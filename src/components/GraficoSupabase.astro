---
// O componente agora só precisa passar as credenciais
const supabaseUrl = import.meta.env.SUPABASE_URL;
const supabaseKey = import.meta.env.SUPABASE_ANON_KEY;
---

<div class="grafico-container">
  <h3>Estoque Total (Dados do Supabase)</h3>
  
  <!-- O container agora guarda as chaves para o nosso script usar -->
  <div 
    id="grafico-supabase" 
    style="width: 100%; height: 500px;" 
    data-url={supabaseUrl} 
    data-key={supabaseKey}
  >
    <p>Carregando gráfico...</p>
  </div>
</div>

<!-- 
  Carregamos nosso script dedicado. O Astro irá empacotá-lo corretamente,
  incluindo o Supabase e o ECharts, pois agora ele é um módulo padrão.
-->
<script src="../scripts/renderizarGraficoEstoque.js"></script>
